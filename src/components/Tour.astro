---
// Brazil Tour section - featured event
---

<section id="tour" class="py-20 lg:py-32 bg-[#2a2a2a]">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto">
      <!-- Header -->
      <div class="text-center mb-12">
        <div class="inline-block bg-[#fedd00]/10 text-[#fedd00] px-4 py-2 rounded-full text-sm font-semibold mb-4">
          LIMITED SPOTS AVAILABLE
        </div>
        <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#f5f5f0] mb-4">
          Brazil Tour — February
        </h2>
        <p class="text-xl text-[#a0a0a0]">
          Lumiar, Brazil
        </p>
      </div>

      <!-- Main Content Card -->
      <div class="bg-[#1a1a1a] rounded-2xl overflow-hidden border border-[#3a3a3a] shadow-2xl mb-8">
        <!-- Image Placeholder -->
        <div class="h-64 sm:h-80 overflow-hidden">
          <img 
            src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/ff/7c/5e/bonito.jpg?w=900&h=500&s=1" 
            alt="Lumiar, Brazil - Waterfalls and Nature"
            class="w-full h-full object-cover"
          />
        </div>

        <!-- Content -->
        <div class="p-8 lg:p-12">
          <h3 class="text-2xl font-bold text-[#f5f5f0] mb-6">
            A Musical & Spiritual Immersion
          </h3>
          
          <p class="text-[#a0a0a0] text-lg mb-8 leading-relaxed">
            Join a small group for an intimate journey into Brazilian spiritual traditions at the Mãe d'Água retreat center. Experience the sacred practices of Santo Daime within the Umbanda tradition, explore pristine waterfalls and rivers, share community meals and music, and connect deeply with nature and spirit in the mountain town of Lumiar.
          </p>

          <!-- What's Included -->
          <div class="grid sm:grid-cols-2 gap-4 mb-8">
            <div class="flex items-start gap-3">
              <svg class="w-6 h-6 text-[#009739] flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
              <div>
                <h4 class="text-[#f5f5f0] font-semibold">Santo Daime Ceremonies</h4>
                <p class="text-[#a0a0a0] text-sm">Sacred traditions and Daime (Ayahuasca) medicine</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <svg class="w-6 h-6 text-[#009739] flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
              <div>
                <h4 class="text-[#f5f5f0] font-semibold">Nature Immersion</h4>
                <p class="text-[#a0a0a0] text-sm">Waterfalls, rivers, and mountain walks</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <svg class="w-6 h-6 text-[#009739] flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
              <div>
                <h4 class="text-[#f5f5f0] font-semibold">Community Music & Singing</h4>
                <p class="text-[#a0a0a0] text-sm">Shared musical experiences and traditional songs</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3">
              <svg class="w-6 h-6 text-[#009739] flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
              <div>
                <h4 class="text-[#f5f5f0] font-semibold">Catered Meals</h4>
                <p class="text-[#a0a0a0] text-sm">Nourishing food and community dining at Mãe d'Água</p>
              </div>
            </div>
          </div>

          <!-- Itinerary at a Glance -->
          <div class="bg-[#2a2a2a] rounded-xl p-6 mb-8">
            <h4 class="text-lg font-bold text-[#f5f5f0] mb-4">Itinerary at a Glance</h4>
            <ul class="space-y-2 text-[#a0a0a0]">
              <li class="flex items-start gap-2">
                <span class="text-[#fedd00] mt-1">•</span>
                <span>Morning walks and nature connection: waterfalls, rivers, and mountain trails</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-[#fedd00] mt-1">•</span>
                <span>Catered meals shared in community with time for rest and reflection</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-[#fedd00] mt-1">•</span>
                <span>Evening Santo Daime ceremonies with sacred Daime (Ayahuasca) medicine, singing, and ritual</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-[#fedd00] mt-1">•</span>
                <span>Community music gatherings with traditional songs and shared singing</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-[#fedd00] mt-1">•</span>
                <span>Small group experience at Mãe d'Água retreat center within the Umbanda tradition</span>
              </li>
            </ul>
          </div>

          <!-- Image Slider -->
          <div class="relative mb-8 overflow-hidden rounded-xl group">
            <div id="tour-slider" class="relative h-64 sm:h-80">
              <div class="tour-slide absolute inset-0 opacity-100 transition-opacity duration-1000">
                <img src="/tour/img-1711.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/img-1729.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/img-1750.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/img-1755.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/img-1757.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/whatsapp-image-2025-01-29-at-14-52-37.jpeg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
              <div class="tour-slide absolute inset-0 opacity-0 transition-opacity duration-1000">
                <img src="/tour/lumiar.jpg" alt="Lumiar Tour" class="w-full h-full object-cover rounded-xl" />
              </div>
            </div>
            
            <!-- Left Arrow -->
            <button 
              id="prev-slide"
              class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all opacity-0 group-hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-white"
              aria-label="Previous slide"
            >
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>
            
            <!-- Right Arrow -->
            <button 
              id="next-slide"
              class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all opacity-0 group-hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-white"
              aria-label="Next slide"
            >
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
            
            <!-- Play/Pause Button -->
            <button 
              id="play-pause-btn"
              class="absolute bottom-16 left-1/2 -translate-x-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all opacity-0 group-hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-white"
              aria-label="Pause slideshow"
            >
              <!-- Pause Icon (shown when playing) -->
              <svg id="pause-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
              </svg>
              <!-- Play Icon (shown when paused) -->
              <svg id="play-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
            </button>
            
            <!-- Slider indicators -->
            <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2">
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
              <span class="slider-dot w-2 h-2 rounded-full bg-white/50 transition-all"></span>
            </div>
          </div>

          <!-- CTAs -->
          <div class="flex flex-col sm:flex-row gap-4">
            <a 
              href="#contact?subject=Brazil%20Tour" 
              class="flex-1 bg-[#fedd00] text-[#1a1a1a] px-8 py-4 rounded-lg hover:bg-[#d4bc00] transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#fedd00] focus:ring-offset-2 focus:ring-offset-[#1a1a1a] font-semibold text-center shadow-lg"
            >
              Request Tour Details
            </a>
            <a 
              href="#mailing-list" 
              class="flex-1 border-2 border-[#009739] text-[#009739] px-8 py-4 rounded-lg hover:bg-[#009739] hover:text-white transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#009739] focus:ring-offset-2 focus:ring-offset-[#1a1a1a] font-semibold text-center shadow-lg"
            >
              Join Tour Updates
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Auto-sliding image carousel with controls
  const slides = document.querySelectorAll('.tour-slide');
  const dots = document.querySelectorAll('.slider-dot');
  const prevBtn = document.getElementById('prev-slide');
  const nextBtn = document.getElementById('next-slide');
  const playPauseBtn = document.getElementById('play-pause-btn');
  const pauseIcon = document.getElementById('pause-icon');
  const playIcon = document.getElementById('play-icon');
  
  let currentSlide = 0;
  let isPlaying = true;
  let intervalId: number | null = null;

  function showSlide(index: number) {
    // Hide all slides
    slides.forEach(slide => {
      slide.classList.remove('opacity-100');
      slide.classList.add('opacity-0');
    });
    
    // Reset all dots
    dots.forEach(dot => {
      dot.classList.remove('bg-white');
      dot.classList.add('bg-white/50');
    });
    
    // Show current slide
    slides[index].classList.remove('opacity-0');
    slides[index].classList.add('opacity-100');
    
    // Highlight current dot
    dots[index].classList.remove('bg-white/50');
    dots[index].classList.add('bg-white');
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }

  function prevSlide() {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    showSlide(currentSlide);
  }

  function startAutoPlay() {
    if (intervalId) return;
    intervalId = window.setInterval(nextSlide, 3000);
    isPlaying = true;
    if (pauseIcon && playIcon) {
      pauseIcon.classList.remove('hidden');
      playIcon.classList.add('hidden');
    }
    if (playPauseBtn) {
      playPauseBtn.setAttribute('aria-label', 'Pause slideshow');
    }
  }

  function stopAutoPlay() {
    if (intervalId) {
      clearInterval(intervalId);
      intervalId = null;
    }
    isPlaying = false;
    if (pauseIcon && playIcon) {
      pauseIcon.classList.add('hidden');
      playIcon.classList.remove('hidden');
    }
    if (playPauseBtn) {
      playPauseBtn.setAttribute('aria-label', 'Play slideshow');
    }
  }

  function togglePlayPause() {
    if (isPlaying) {
      stopAutoPlay();
    } else {
      startAutoPlay();
    }
  }

  // Event listeners
  if (prevBtn) {
    prevBtn.addEventListener('click', () => {
      prevSlide();
      if (isPlaying) {
        stopAutoPlay();
        startAutoPlay(); // Restart timer
      }
    });
  }

  if (nextBtn) {
    nextBtn.addEventListener('click', () => {
      nextSlide();
      if (isPlaying) {
        stopAutoPlay();
        startAutoPlay(); // Restart timer
      }
    });
  }

  if (playPauseBtn) {
    playPauseBtn.addEventListener('click', togglePlayPause);
  }

  // Initialize first slide and start autoplay
  showSlide(0);
  startAutoPlay();
</script>
